Cs246 Multi-threaded Programming